# KaleganovSearchBot
Проект выполнен в рамках обучающего курса "Профессия Java-разработчик PRO" онлайн-школы Skillbox.ru и является итоговым проектом базового модуля.

Техническое задание и frontend-составляющая предоставлены Skillbox.ru
### Описание проекта
Вашему вниманию представлен поисковый движок, который при получении текстового запроса выводит список страниц, на которых содержатся леммы всех указанных в запросе слов, из списка ранее проиндексированных сайтов.
##### Вкладка Dashboard
Открывается по умолчанию. На ней отображается общая статистика по всем сайтам, а также детальная статистика и статус по каждому из сайтов:
![image](https://user-images.githubusercontent.com/109655199/184359871-7101b4ab-9f79-408b-93f3-13be5dd5569d.png)
##### Вкладка Management
На этой вкладке находятся инструменты управления поисковым движком — запуск и остановка полной индексации (переиндексации), а также возможность добавить (обновить) отдельную страницу по ссылке:
![image](https://user-images.githubusercontent.com/109655199/184360870-93296905-44e4-40fc-be9e-b227bacf1f83.png)
##### Вкладка Search
Здесь находится поле поиска, выпадающий список с выбором сайта для поиска, а при нажатии на кнопку «Найти» выводятся результаты поиска:
![image](https://user-images.githubusercontent.com/109655199/184361718-e51fc1c0-7018-4df3-bb5f-b0788f22f44c.png)
Результаты поиска сортируются по убыванию релевантности. Каждая найденная страница сопровождается фрагментом текста, в котором найдены совпадения. Слова содержащихся в поисковом запросе лемм выделены жирным.
Фрагмент является частью текста из не более 30 слов (+ по 4 слова с каждой стороны от крайней леммы), содержащий наибольшее количество лемм.
##### Описание работы
Для хранения информации в проекте используется БД MySQL. Настройки для подключения к БД и список сайтов, подлежащих индексации хранятся в файле application.yaml.

Индексация сайта осуществляется с использованием ForkJoinPool для каждого сайта в отдельном потоке.
После индексации каждой отдельной страницы сайта, информация о ней заносится в БД.
При получении кода ответа 400+, инфрмация о странице также заносится в БД, но без индексации.
После завершения индексации любого сайта по нему начинает работать поиск.

Во время поиска происходит извлечение лемм каждого слова запроса и поиск совпадений среди лемм указанного в запросе сайта. 
На основе найденных лемм составляется список страниц, удовлетворяющих критериям запроса.
Для каждой страницы определяется релевантность на основании количества совпадений и места совпадения (лемма в поле title страницы имеет больший вес).
Все найденные страницы сортируются по убыванию значения релевантности.
